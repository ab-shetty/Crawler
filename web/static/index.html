<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crawler - AI Web Scraping Tool</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Crawler - AI Web Scraping Tool</h1>
            <p class="subtitle">Extract relevant data from websites using natural language instructions</p>
        </header>

        <form id="crawlForm">
            <div class="form-group">
                <label for="url">Website URL:</label>
                <input type="url" id="url" name="url" required placeholder="https://example.com">
            </div>

            <div class="form-group">
                <label for="instructions">AI Instructions:</label>
                <textarea id="instructions" name="instructions" rows="3" placeholder="e.g., Find information about product features and pricing, or extract FAQ content"></textarea>
                <div class="hint">Be specific about what information you want the AI to extract.</div>
            </div>

            <div class="form-group">
                <label for="depth">Crawl Depth:</label>
                <div class="range-container">
                    <input type="range" id="depth" name="depth" min="0" max="3" value="0">
                    <span id="depthValue">0</span>
                </div>
                <div class="hint">0 = single page, 1-3 = follow links to specified depth</div>
            </div>
            
            <div class="form-group">
                <label for="max_pages">Maximum Pages:</label>
                <div class="range-container">
                    <input type="range" id="max_pages" name="max_pages" min="1" max="200" value="20">
                    <span id="maxPagesValue">20</span>
                </div>
                <div class="hint">Limit total number of pages to crawl (1-200)</div>
            </div>

            <div class="form-group checkbox-group">
                <label>
                    <input type="checkbox" id="follow_external" name="follow_external_links">
                    Follow external links
                </label>
                <div class="hint">Enable to crawl links outside the original domain</div>
            </div>

            <div class="form-actions">
                <button type="submit" id="submitBtn">Start Scraping</button>
                <button type="button" id="resetBtn">Reset</button>
            </div>
        </form>

        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
            <p>AI is processing your request...</p>
        </div>

        <div id="results-container" style="display: none;">
            <div class="results-header">
                <h2>Results:</h2>
                <div class="download-options">
                    <button id="downloadJson">Download JSON</button>
                    <button id="downloadMarkdown">Download Markdown</button>
                </div>
            </div>

            <div id="results" class="results-area">
                <!-- Results will be displayed here -->
            </div>
        </div>
        
        <div id="ai-explanation" class="ai-explanation">
            <h3>How It Works</h3>
            <p>Crawler uses AI to understand your instructions and extract exactly the information you need:</p>
            <ol>
                <li><strong>Natural Language Instructions</strong> - Tell the AI what information you want in plain English</li>
                <li><strong>Smart Content Filtering</strong> - AI identifies relevant content and ignores the rest</li>
                <li><strong>Structured Data Extraction</strong> - Gets the data in a format ready for use in RAG systems</li>
            </ol>
            <p class="example-prompt">Example prompt: "We're building a chatbot for HR. Extract information about employee benefits, policies, and FAQ content."</p>
        </div>
        
    </div>

    <script src="/static/script.js"></script>
</body>
</html>